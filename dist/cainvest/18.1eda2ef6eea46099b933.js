(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{j9oz:function(l,n,u){"use strict";u.r(n);var e=u("CcnG"),t=function(){return function(){}}(),a=u("yWMr"),i=u("t68o"),s=u("zbXB"),o=u("NcP4"),r=u("xYTU"),c=u("pMnS"),b=u("wErx"),d=u("Ip0R"),p=u("XatG"),f=u("2Zpj"),h=u("qs8k"),g=u("XNhZ"),A=u("6uu6"),m=function(){function l(l,n,u,e,t,a){this.ticketService=l,this.threadService=n,this.authService=u,this.router=e,this.route=t,this.snackBar=a,this.tickets=[],this.files=[],this.auth=this.authService.getAuthUser(),this.loggedin_user="",this.replayView=!1,this.loading=!1,this.loggedin_user=this.auth.username}return l.prototype.ngOnInit=function(){var l=this;this.replayText="",this.route.params.subscribe(function(n){void 0!==n.ticket_id&&(l.project_name=n.project_name,l.ticketService.getProjectTicket(n.project_name,n.ticket_id).subscribe(function(n){console.log(n),n&&(l.ticket=n),l.loading=!0,l.threadService.getAllTicketThread(n.id).subscribe(function(n){n.data&&(l.thread=n.data),l.loading=!1}),l.auth=l.authService.getAuthUser()}))})},l.prototype.viewTicket=function(l){return this.ticket=l,!1},l.prototype.onReplayKey=function(l){return this.replayText=l,!1},l.prototype.submitReplyBox=function(){var l=this;return this.replayView?""!==this.replayText?(this.loading=!0,this.replayView=!1,this.threadService.send({ticket_id:this.ticket.id,user_id:this.auth.id,message:this.replayText}).subscribe(function(n){l.loading=!1,l.ticket.thread.push(n)})):console.log(this.replayText,"replayText is empty"):this.replayView=!0,!1},l.prototype.dropped=function(l){this.files=l.files;for(var n=function(l){if(l.fileEntry.isFile)(n=l.fileEntry).file(function(n){console.log(l.relativePath,n)});else{var n=l.fileEntry;console.log(l.relativePath,n)}},u=0,e=l.files;u<e.length;u++)n(e[u])},l.prototype.fileOver=function(l){console.log(l)},l.prototype.fileLeave=function(l){console.log(l)},l.prototype.updateTicketStatus=function(l){var n=this;console.log(l,"status updated"),this.ticket.status_id=l,this.ticketService.update(this.ticket,"status").subscribe(function(u){u&&u.status_id==l&&(console.log(u,"updated"),n.snackBar.open("Data has been updated","X",{duration:5e3,direction:"ltr",verticalPosition:"top",horizontalPosition:"right",panelClass:"success-snack"}))})},l}(),v=u("ZYCi"),k=u("vARd"),y=e.qb({encapsulation:0,styles:[b.a],data:{}});function x(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,1,"span",[["class","badge font-white font-12 bg-success"]],null,null,null,null,null)),(l()(),e.Kb(-1,null,["Assigned to you"]))],null,null)}function w(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,1,"label",[["class","mar-r-10"],["for","ticket-status"]],null,null,null,null,null)),(l()(),e.Kb(-1,null,["Status "])),(l()(),e.sb(3,0,[["ticketStatus",1]],null,10,"select",[],null,[[null,"change"]],function(l,n,u){var t=!0;return"change"===n&&(t=!1!==l.component.updateTicketStatus(e.Cb(l,3).value)&&t),t},null,null)),(l()(),e.sb(4,0,null,null,1,"option",[["value","1"]],[[8,"selected",0]],null,null,null,null)),(l()(),e.Kb(-1,null,["Open"])),(l()(),e.sb(6,0,null,null,1,"option",[["value","2"]],[[8,"selected",0]],null,null,null,null)),(l()(),e.Kb(-1,null,["In progress"])),(l()(),e.sb(8,0,null,null,1,"option",[["value","3"]],[[8,"selected",0]],null,null,null,null)),(l()(),e.Kb(-1,null,["For Testing"])),(l()(),e.sb(10,0,null,null,1,"option",[["value","4"]],[[8,"selected",0]],null,null,null,null)),(l()(),e.Kb(-1,null,["On QA"])),(l()(),e.sb(12,0,null,null,1,"option",[["value","5"]],[[8,"selected",0]],null,null,null,null)),(l()(),e.Kb(-1,null,["Complete"]))],null,function(l,n){var u=n.component;l(n,4,0,1==u.ticket.status_id),l(n,6,0,2==u.ticket.status_id),l(n,8,0,3==u.ticket.status_id),l(n,10,0,4==u.ticket.status_id),l(n,12,0,5==u.ticket.status_id)})}function O(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,0,"img",[["src","../../assets/icon/loading.gif"]],null,null,null,null,null))],null,null)}function j(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,2,"div",[["class","col-lg-12 loading text-center"]],null,null,null,null,null)),(l()(),e.jb(16777216,null,null,1,null,O)),e.rb(2,16384,null,0,d.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.loading)},null)}function K(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,14,"div",[["class","thread-message mar-y-10 full-w pad-0"]],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,13,"div",[["class","card thread-message-content"]],null,null,null,null,null)),(l()(),e.sb(2,0,null,null,12,"div",[["class","card-body row"]],null,null,null,null,null)),(l()(),e.sb(3,0,null,null,7,"div",[["class","col card-header thread-message-head q-width border-rad-10 pad-20"]],null,null,null,null,null)),e.rb(4,278528,null,0,d.j,[e.u,e.v,e.k,e.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Fb(5,{"comment-own order-md-2":0}),(l()(),e.sb(6,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(l()(),e.Kb(7,null,["",""])),(l()(),e.Kb(-1,null,[" : "])),(l()(),e.sb(9,0,null,null,1,"label",[["class","message-create"]],null,null,null,null,null)),(l()(),e.Kb(10,null,["",""])),(l()(),e.sb(11,0,null,null,3,"div",[["class","col-lg-9 card-body thread-message-wrapper"]],null,null,null,null,null)),e.rb(12,278528,null,0,d.j,[e.u,e.v,e.k,e.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Fb(13,{"text-right":0,"text-left":1}),(l()(),e.Kb(14,null,["",""]))],function(l,n){var u=n.component,e=l(n,5,0,n.context.$implicit.user_id==u.auth.id);l(n,4,0,"col card-header thread-message-head q-width border-rad-10 pad-20",e);var t=l(n,13,0,n.context.$implicit.user_id==u.auth.id,n.context.$implicit.message_by.username!=u.loggedin_user);l(n,12,0,"col-lg-9 card-body thread-message-wrapper",t)},function(l,n){l(n,7,0,n.context.$implicit.user_id==n.component.auth.id?"You":n.context.$implicit.message_by.name),l(n,10,0,n.context.$implicit.created_at),l(n,14,0,n.context.$implicit.message)})}function F(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,5,"div",[["class","thread-list-container row mar-0 text-center"]],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.sb(2,0,null,null,1,"label",[["class","label text-info"],["for","no-list"]],null,null,null,null,null)),(l()(),e.Kb(3,null,["Ticket has "," discussions"])),(l()(),e.jb(16777216,null,null,1,null,K)),e.rb(5,278528,null,0,d.k,[e.R,e.O,e.u],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,5,0,n.component.ticket.thread)},function(l,n){l(n,3,0,n.component.ticket.thread.length)})}function _(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,2,"div",[["class","thread-list-container row mar-0 text-center"]],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,1,"label",[["class","label text-danger"],["for","no-list"]],null,null,null,null,null)),(l()(),e.Kb(-1,null,["This ticket has not started a discussion yet."]))],null,null)}function I(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,3,"tr",[],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.sb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Kb(3,null,["",""]))],null,function(l,n){l(n,3,0,n.context.$implicit.relativePath)})}function R(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,13,"div",[["class","center full-w pad-y-10"]],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,3,"file-drop",[["dropZoneLabel","Drop files here"]],null,[[null,"onFileDrop"],[null,"onFileOver"],[null,"onFileLeave"]],function(l,n,u){var e=!0,t=l.component;return"onFileDrop"===n&&(e=!1!==t.dropped(u)&&e),"onFileOver"===n&&(e=!1!==t.fileOver(u)&&e),"onFileLeave"===n&&(e=!1!==t.fileLeave(u)&&e),e},p.c,p.b)),e.rb(2,180224,null,0,f.a,[e.B,e.G],{dropZoneLabel:[0,"dropZoneLabel"]},{onFileDrop:"onFileDrop",onFileOver:"onFileOver",onFileLeave:"onFileLeave"}),(l()(),e.sb(3,0,null,0,1,"span",[],null,null,null,null,null)),(l()(),e.Kb(-1,null,["File"])),(l()(),e.sb(5,0,null,null,8,"div",[["class","upload-table hidden"]],null,null,null,null,null)),(l()(),e.sb(6,0,null,null,7,"table",[["class","table"]],null,null,null,null,null)),(l()(),e.sb(7,0,null,null,3,"thead",[],null,null,null,null,null)),(l()(),e.sb(8,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),e.sb(9,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Kb(-1,null,["Name"])),(l()(),e.sb(11,0,null,null,2,"tbody",[["class","upload-name-style"]],null,null,null,null,null)),(l()(),e.jb(16777216,null,null,1,null,I)),e.rb(13,278528,null,0,d.k,[e.R,e.O,e.u],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var u=n.component;l(n,2,0,"Drop files here"),l(n,13,0,u.files)},null)}function T(l){return e.Mb(0,[(l()(),e.sb(0,0,[["replyText",1]],null,0,"textarea",[["class","form-control"],["id","commentReplayBox"],["rows","5"]],null,[[null,"keyup"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"keyup"===n&&(t=!1!==a.onReplayKey(e.Cb(l,0).value)&&t),"blur"===n&&(t=!1!==a.onReplayKey(e.Cb(l,0).value)&&t),t},null,null))],null,null)}function M(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,6,"div",[["class","thread-list-reply-container row mar-0 text-center"]],null,null,null,null,null)),(l()(),e.jb(16777216,null,null,1,null,R)),e.rb(2,16384,null,0,d.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.jb(16777216,null,null,1,null,T)),e.rb(4,16384,null,0,d.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.sb(5,0,null,null,1,"button",[["class","btn btn-info mar-0-auto pad-x-30 font-25 mar-t-20"],["type","submit"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.submitReplyBox()&&e),e},null,null)),(l()(),e.Kb(-1,null,["Comment"]))],function(l,n){var u=n.component;l(n,2,0,u.replayView&&!u.loading),l(n,4,0,u.replayView&&!u.loading)},null)}function S(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,22,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,12,"div",[["class","thread-container col-lg-12"]],null,null,null,null,null)),(l()(),e.sb(2,0,null,null,3,"h2",[],null,null,null,null,null)),(l()(),e.Kb(3,null,[""," "])),(l()(),e.jb(16777216,null,null,1,null,x)),e.rb(5,16384,null,0,d.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.sb(6,0,null,null,7,"form",[],null,null,null,null,null)),(l()(),e.jb(16777216,null,null,1,null,w)),e.rb(8,16384,null,0,d.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.sb(9,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.sb(10,0,null,null,1,"label",[["for","exampleFormControlTextarea1"]],null,null,null,null,null)),(l()(),e.Kb(-1,null,["Description"])),(l()(),e.sb(12,0,null,null,1,"textarea",[["class","form-control"],["disabled",""],["id","exampleFormControlTextarea1"],["rows","3"]],null,null,null,null,null)),(l()(),e.Kb(13,null,["",""])),(l()(),e.jb(16777216,null,null,1,null,j)),e.rb(15,16384,null,0,d.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.sb(16,0,null,null,6,"div",[["class","thread-container col-lg-12"]],null,null,null,null,null)),(l()(),e.jb(16777216,null,null,1,null,F)),e.rb(18,16384,null,0,d.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.jb(16777216,null,null,1,null,_)),e.rb(20,16384,null,0,d.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.jb(16777216,null,null,1,null,M)),e.rb(22,16384,null,0,d.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,5,0,u.ticket.assigned_to.id==u.auth.id),l(n,8,0,u.ticket.assigned_to.id==u.auth.id||u.ticket.created_by.id==u.auth.username),l(n,15,0,!u.thread),l(n,18,0,u.thread),l(n,20,0,!u.ticket.thread),l(n,22,0,u.ticket.thread)},function(l,n){var u=n.component;l(n,3,0,u.ticket.title),l(n,13,0,u.ticket.description)})}function C(l){return e.Mb(0,[(l()(),e.jb(16777216,null,null,1,null,S)),e.rb(1,16384,null,0,d.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.ticket)},null)}function L(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,1,"app-ticket-detail",[],null,null,null,C,y)),e.rb(1,114688,null,0,m,[h.a,g.a,A.a,v.l,v.a,k.b],null,null)],function(l,n){l(n,1,0)},null)}var B=e.ob("app-ticket-detail",m,L,{},{},[]),D=u("eDkP"),P=u("Fzqc"),Z=u("4tE/"),V=u("M2Lx"),q=u("Wf4p"),z=u("o3x0"),$=u("jQLj"),G=u("mVsa"),Y=u("dWZg"),E=u("uGex"),N=u("v9Dh"),W=u("ZYjt"),X=u("4epT"),Q=u("OkvK"),U=u("wmQ5"),J=u("lLAP"),H=u("OBdK"),ll=u("OfrC"),nl=u("0np6"),ul=u("t/Na"),el=u("Ouoq"),tl=u("4c35"),al=u("qAlS"),il=u("6Wmm"),sl=u("BgWK"),ol=u("UodH"),rl=u("u7R8"),cl=u("FVSy"),bl=u("de3e"),dl=u("/dO6"),pl=u("LC5p"),fl=u("YhbO"),hl=u("jlZm"),gl=u("r43C"),Al=u("SMsm"),ml=u("/VYK"),vl=u("seP3"),kl=u("b716"),yl=u("0/Q6"),xl=u("Z+uX"),wl=u("Blfk"),Ol=u("9It4"),jl=u("Nsh5"),Kl=u("w+lc"),Fl=u("kWGw"),_l=u("Lwpp"),Il=u("y4qS"),Rl=u("BHnd"),Tl=u("La40"),Ml=u("8mMr"),Sl=u("J12g"),Cl=function(){return function(){}}(),Ll=u("YSh2");u.d(n,"TicketDetailModuleNgFactory",function(){return Bl});var Bl=e.pb(t,[],function(l){return e.zb([e.Ab(512,e.j,e.eb,[[8,[a.a,i.a,s.b,s.a,o.a,r.a,r.b,c.a,B,p.a]],[3,e.j],e.z]),e.Ab(4608,d.n,d.m,[e.w,[2,d.E]]),e.Ab(4608,D.c,D.c,[D.i,D.e,e.j,D.h,D.f,e.s,e.B,d.d,P.b,[2,d.h]]),e.Ab(5120,D.j,D.k,[D.c]),e.Ab(5120,Z.a,Z.b,[D.c]),e.Ab(4608,V.c,V.c,[]),e.Ab(4608,q.d,q.d,[]),e.Ab(5120,z.b,z.c,[D.c]),e.Ab(135680,z.d,z.d,[D.c,e.s,[2,d.h],[2,z.a],z.b,[3,z.d],D.e]),e.Ab(4608,$.h,$.h,[]),e.Ab(5120,$.a,$.b,[D.c]),e.Ab(5120,G.a,G.c,[D.c]),e.Ab(4608,q.c,q.y,[[2,q.h],Y.a]),e.Ab(5120,E.a,E.b,[D.c]),e.Ab(5120,N.b,N.c,[D.c]),e.Ab(4608,W.f,q.e,[[2,q.i],[2,q.n]]),e.Ab(5120,X.c,X.a,[[3,X.c]]),e.Ab(5120,Q.b,Q.a,[[3,Q.b]]),e.Ab(5120,U.b,U.a,[[3,U.b]]),e.Ab(135680,J.h,J.h,[e.B,Y.a]),e.Ab(4608,H.e,H.e,[e.O]),e.Ab(4608,ll.a,ll.a,[]),e.Ab(4608,nl.a,nl.a,[ul.c,ll.a]),e.Ab(4608,el.a,el.a,[nl.a,ul.c]),e.Ab(1073742336,P.a,P.a,[]),e.Ab(1073742336,q.n,q.n,[[2,q.f],[2,W.g]]),e.Ab(1073742336,Y.b,Y.b,[]),e.Ab(1073742336,q.x,q.x,[]),e.Ab(1073742336,d.c,d.c,[]),e.Ab(1073742336,q.v,q.v,[]),e.Ab(1073742336,q.s,q.s,[]),e.Ab(1073742336,tl.g,tl.g,[]),e.Ab(1073742336,al.c,al.c,[]),e.Ab(1073742336,D.g,D.g,[]),e.Ab(1073742336,Z.c,Z.c,[]),e.Ab(1073742336,V.d,V.d,[]),e.Ab(1073742336,J.a,J.a,[]),e.Ab(1073742336,il.a,il.a,[]),e.Ab(1073742336,sl.c,sl.c,[]),e.Ab(1073742336,ol.c,ol.c,[]),e.Ab(1073742336,rl.a,rl.a,[]),e.Ab(1073742336,cl.a,cl.a,[]),e.Ab(1073742336,bl.a,bl.a,[]),e.Ab(1073742336,dl.b,dl.b,[]),e.Ab(1073742336,z.g,z.g,[]),e.Ab(1073742336,$.i,$.i,[]),e.Ab(1073742336,pl.a,pl.a,[]),e.Ab(1073742336,fl.c,fl.c,[]),e.Ab(1073742336,hl.a,hl.a,[]),e.Ab(1073742336,q.o,q.o,[]),e.Ab(1073742336,gl.a,gl.a,[]),e.Ab(1073742336,Al.a,Al.a,[]),e.Ab(1073742336,ml.c,ml.c,[]),e.Ab(1073742336,vl.e,vl.e,[]),e.Ab(1073742336,kl.b,kl.b,[]),e.Ab(1073742336,yl.a,yl.a,[]),e.Ab(1073742336,G.b,G.b,[]),e.Ab(1073742336,q.z,q.z,[]),e.Ab(1073742336,q.p,q.p,[]),e.Ab(1073742336,E.d,E.d,[]),e.Ab(1073742336,N.e,N.e,[]),e.Ab(1073742336,X.d,X.d,[]),e.Ab(1073742336,xl.a,xl.a,[]),e.Ab(1073742336,wl.a,wl.a,[]),e.Ab(1073742336,Ol.a,Ol.a,[]),e.Ab(1073742336,jl.a,jl.a,[]),e.Ab(1073742336,Kl.a,Kl.a,[]),e.Ab(1073742336,Fl.a,Fl.a,[]),e.Ab(1073742336,k.e,k.e,[]),e.Ab(1073742336,Q.c,Q.c,[]),e.Ab(1073742336,_l.e,_l.e,[]),e.Ab(1073742336,U.c,U.c,[]),e.Ab(1073742336,Il.p,Il.p,[]),e.Ab(1073742336,Rl.m,Rl.m,[]),e.Ab(1073742336,Tl.a,Tl.a,[]),e.Ab(1073742336,Ml.a,Ml.a,[]),e.Ab(1073742336,H.c,H.c,[]),e.Ab(1073742336,Sl.a,Sl.a,[]),e.Ab(1073742336,v.n,v.n,[[2,v.t],[2,v.l]]),e.Ab(1073742336,Cl,Cl,[]),e.Ab(1073742336,f.b,f.b,[]),e.Ab(1073742336,t,t,[]),e.Ab(256,dl.a,{separatorKeyCodes:[Ll.f]},[]),e.Ab(256,q.g,q.k,[]),e.Ab(1024,v.j,function(){return[[{path:"",component:m}]]},[])])})}}]);