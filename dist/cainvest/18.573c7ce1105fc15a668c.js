(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{j9oz:function(l,n,u){"use strict";u.r(n);var e=u("CcnG"),t=function(){return function(){}}(),a=u("yWMr"),o=u("t68o"),i=u("zbXB"),r=u("NcP4"),s=u("xYTU"),b=u("pMnS"),c=u("wErx"),d=u("Ip0R"),p=u("XatG"),f=u("2Zpj"),g=u("qs8k"),h=u("XNhZ"),A=u("6uu6"),m=function(){function l(l,n,u,e,t){this.ticketService=l,this.threadService=n,this.authService=u,this.router=e,this.route=t,this.tickets=[],this.files=[],this.loggedin_user="",this.replayView=!1,this.loading=!1,this.user=this.authService.getAuthUser(),this.loggedin_user=this.user.username}return l.prototype.ngOnInit=function(){var l=this;this.replayText="",this.route.params.subscribe(function(n){void 0!==n.ticket_id&&(l.project_name=n.project_name,l.loading=!1,l.ticketService.getProjectTicket(n.project_name,n.ticket_id).subscribe(function(n){l.ticket=n,console.log(n,"ticket"),console.log(l.user.username,"logged")}))})},l.prototype.viewTicket=function(l){return this.ticket=l,!1},l.prototype.onReplayKey=function(l){return this.replayText=l,!1},l.prototype.submitReplyBox=function(){var l=this;return this.replayView?""!==this.replayText?(this.loading=!0,this.replayView=!1,this.threadService.send({ticket_id:this.ticket.id,user_id:this.user.id,message:this.replayText}).subscribe(function(n){l.loading=!1,l.ticket.thread.push(n)})):console.log(this.replayText,"replayText is empty"):this.replayView=!0,!1},l.prototype.dropped=function(l){this.files=l.files;for(var n=function(l){if(l.fileEntry.isFile)(n=l.fileEntry).file(function(n){console.log(l.relativePath,n)});else{var n=l.fileEntry;console.log(l.relativePath,n)}},u=0,e=l.files;u<e.length;u++)n(e[u])},l.prototype.fileOver=function(l){console.log(l)},l.prototype.fileLeave=function(l){console.log(l)},l}(),v=u("ZYCi"),y=e.qb({encapsulation:0,styles:[c.a],data:{}});function k(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,14,"div",[["class","thread-message mar-y-10 full-w pad-0"]],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,13,"div",[["class","card thread-message-content"]],null,null,null,null,null)),(l()(),e.sb(2,0,null,null,12,"div",[["class","card-body row"]],null,null,null,null,null)),(l()(),e.sb(3,0,null,null,7,"div",[["class","col card-header thread-message-head q-width border-rad-10 pad-20"]],null,null,null,null,null)),e.rb(4,278528,null,0,d.j,[e.u,e.v,e.k,e.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Fb(5,{"comment-own order-md-2":0}),(l()(),e.sb(6,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(l()(),e.Kb(7,null,["",""])),(l()(),e.Kb(-1,null,[" : "])),(l()(),e.sb(9,0,null,null,1,"label",[["class","message-create"]],null,null,null,null,null)),(l()(),e.Kb(10,null,["",""])),(l()(),e.sb(11,0,null,null,3,"div",[["class","col-lg-9 card-body thread-message-wrapper"]],null,null,null,null,null)),e.rb(12,278528,null,0,d.j,[e.u,e.v,e.k,e.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Fb(13,{"text-right":0,"text-left":1}),(l()(),e.Kb(14,null,["",""]))],function(l,n){var u=n.component,e=l(n,5,0,n.context.$implicit.message_by.username==u.loggedin_user);l(n,4,0,"col card-header thread-message-head q-width border-rad-10 pad-20",e);var t=l(n,13,0,n.context.$implicit.message_by.username==u.loggedin_user,n.context.$implicit.message_by.username!=u.loggedin_user);l(n,12,0,"col-lg-9 card-body thread-message-wrapper",t)},function(l,n){l(n,7,0,n.context.$implicit.message_by.username==n.component.loggedin_user?"You":n.context.$implicit.message_by.name),l(n,10,0,n.context.$implicit.created_at),l(n,14,0,n.context.$implicit.message)})}function x(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,5,"div",[["class","thread-list-container row mar-0 text-center"]],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.sb(2,0,null,null,1,"label",[["class","label text-info"],["for","no-list"]],null,null,null,null,null)),(l()(),e.Kb(3,null,["Ticket has "," discussions"])),(l()(),e.jb(16777216,null,null,1,null,k)),e.rb(5,278528,null,0,d.k,[e.R,e.O,e.u],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,5,0,n.component.ticket.thread)},function(l,n){l(n,3,0,n.component.ticket.thread.length)})}function w(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,0,"img",[["src","../../assets/icon/loading.gif"]],null,null,null,null,null))],null,null)}function O(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,2,"div",[["class","col-lg-12 loading text-center"]],null,null,null,null,null)),(l()(),e.jb(16777216,null,null,1,null,w)),e.rb(2,16384,null,0,d.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.loading)},null)}function j(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,2,"div",[["class","thread-list-container row mar-0 text-center"]],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,1,"label",[["class","label text-danger"],["for","no-list"]],null,null,null,null,null)),(l()(),e.Kb(-1,null,["This ticket has not started a discussion yet."]))],null,null)}function F(l){return e.Mb(0,[(l()(),e.sb(0,0,[["replyText",1]],null,0,"textarea",[["class","form-control"],["id","commentReplayBox"],["rows","5"]],null,[[null,"keyup"],[null,"blur"]],function(l,n,u){var t=!0,a=l.component;return"keyup"===n&&(t=!1!==a.onReplayKey(e.Cb(l,0).value)&&t),"blur"===n&&(t=!1!==a.onReplayKey(e.Cb(l,0).value)&&t),t},null,null))],null,null)}function K(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,3,"tr",[],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e.sb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Kb(3,null,["",""]))],null,function(l,n){l(n,3,0,n.context.$implicit.relativePath)})}function R(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,13,"div",[["class","center"]],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,3,"file-drop",[["dropZoneLabel","Drop files here"]],null,[[null,"onFileDrop"],[null,"onFileOver"],[null,"onFileLeave"]],function(l,n,u){var e=!0,t=l.component;return"onFileDrop"===n&&(e=!1!==t.dropped(u)&&e),"onFileOver"===n&&(e=!1!==t.fileOver(u)&&e),"onFileLeave"===n&&(e=!1!==t.fileLeave(u)&&e),e},p.c,p.b)),e.rb(2,180224,null,0,f.a,[e.B,e.G],{dropZoneLabel:[0,"dropZoneLabel"]},{onFileDrop:"onFileDrop",onFileOver:"onFileOver",onFileLeave:"onFileLeave"}),(l()(),e.sb(3,0,null,0,1,"span",[],null,null,null,null,null)),(l()(),e.Kb(-1,null,["optional content (don't set dropZoneLabel then)"])),(l()(),e.sb(5,0,null,null,8,"div",[["class","upload-table"]],null,null,null,null,null)),(l()(),e.sb(6,0,null,null,7,"table",[["class","table"]],null,null,null,null,null)),(l()(),e.sb(7,0,null,null,3,"thead",[],null,null,null,null,null)),(l()(),e.sb(8,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),e.sb(9,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Kb(-1,null,["Name"])),(l()(),e.sb(11,0,null,null,2,"tbody",[["class","upload-name-style"]],null,null,null,null,null)),(l()(),e.jb(16777216,null,null,1,null,K)),e.rb(13,278528,null,0,d.k,[e.R,e.O,e.u],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var u=n.component;l(n,2,0,"Drop files here"),l(n,13,0,u.files)},null)}function I(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,6,"div",[["class","thread-list-reply-container row mar-0 text-center"]],null,null,null,null,null)),(l()(),e.jb(16777216,null,null,1,null,F)),e.rb(2,16384,null,0,d.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.jb(16777216,null,null,1,null,R)),e.rb(4,16384,null,0,d.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.sb(5,0,null,null,1,"button",[["class","btn btn-info mar-0-auto pad-x-30 font-25 mar-t-20"],["type","submit"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.submitReplyBox()&&e),e},null,null)),(l()(),e.Kb(-1,null,["Reply"]))],function(l,n){var u=n.component;l(n,2,0,u.replayView&&!u.loading),l(n,4,0,u.replayView&&!u.loading)},null)}function _(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,18,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,8,"div",[["class","thread-container col-lg-12"]],null,null,null,null,null)),(l()(),e.sb(2,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),e.Kb(3,null,["",""])),(l()(),e.sb(4,0,null,null,5,"form",[],null,null,null,null,null)),(l()(),e.sb(5,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.sb(6,0,null,null,1,"label",[["for","exampleFormControlTextarea1"]],null,null,null,null,null)),(l()(),e.Kb(-1,null,["Description"])),(l()(),e.sb(8,0,null,null,1,"textarea",[["class","form-control"],["disabled",""],["id","exampleFormControlTextarea1"],["rows","3"]],null,null,null,null,null)),(l()(),e.Kb(9,null,["",""])),(l()(),e.sb(10,0,null,null,8,"div",[["class","thread-container col-lg-12"]],null,null,null,null,null)),(l()(),e.jb(16777216,null,null,1,null,x)),e.rb(12,16384,null,0,d.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.jb(16777216,null,null,1,null,O)),e.rb(14,16384,null,0,d.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.jb(16777216,null,null,1,null,j)),e.rb(16,16384,null,0,d.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.jb(16777216,null,null,1,null,I)),e.rb(18,16384,null,0,d.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,12,0,u.ticket.thread),l(n,14,0,u.loading),l(n,16,0,!u.ticket.thread),l(n,18,0,u.ticket.thread)},function(l,n){var u=n.component;l(n,3,0,u.ticket.title),l(n,9,0,u.ticket.description)})}function M(l){return e.Mb(0,[(l()(),e.jb(16777216,null,null,1,null,_)),e.rb(1,16384,null,0,d.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.ticket)},null)}function L(l){return e.Mb(0,[(l()(),e.sb(0,0,null,null,1,"app-ticket-detail",[],null,null,null,M,y)),e.rb(1,114688,null,0,m,[g.a,h.a,A.a,v.l,v.a],null,null)],function(l,n){l(n,1,0)},null)}var T=e.ob("app-ticket-detail",m,L,{},{},[]),C=u("eDkP"),S=u("Fzqc"),B=u("4tE/"),Z=u("M2Lx"),D=u("Wf4p"),V=u("o3x0"),q=u("jQLj"),P=u("mVsa"),$=u("dWZg"),z=u("uGex"),G=u("v9Dh"),Y=u("ZYjt"),E=u("4epT"),N=u("OkvK"),W=u("wmQ5"),X=u("lLAP"),J=u("OBdK"),Q=u("OfrC"),U=u("0np6"),H=u("t/Na"),ll=u("Ouoq"),nl=u("4c35"),ul=u("qAlS"),el=u("6Wmm"),tl=u("BgWK"),al=u("UodH"),ol=u("u7R8"),il=u("FVSy"),rl=u("de3e"),sl=u("/dO6"),bl=u("LC5p"),cl=u("YhbO"),dl=u("jlZm"),pl=u("r43C"),fl=u("SMsm"),gl=u("/VYK"),hl=u("seP3"),Al=u("b716"),ml=u("0/Q6"),vl=u("Z+uX"),yl=u("Blfk"),kl=u("9It4"),xl=u("Nsh5"),wl=u("w+lc"),Ol=u("kWGw"),jl=u("vARd"),Fl=u("Lwpp"),Kl=u("y4qS"),Rl=u("BHnd"),Il=u("La40"),_l=u("8mMr"),Ml=u("J12g"),Ll=function(){return function(){}}(),Tl=u("YSh2");u.d(n,"TicketDetailModuleNgFactory",function(){return Cl});var Cl=e.pb(t,[],function(l){return e.zb([e.Ab(512,e.j,e.eb,[[8,[a.a,o.a,i.b,i.a,r.a,s.a,s.b,b.a,T,p.a]],[3,e.j],e.z]),e.Ab(4608,d.n,d.m,[e.w,[2,d.E]]),e.Ab(4608,C.c,C.c,[C.i,C.e,e.j,C.h,C.f,e.s,e.B,d.d,S.b,[2,d.h]]),e.Ab(5120,C.j,C.k,[C.c]),e.Ab(5120,B.a,B.b,[C.c]),e.Ab(4608,Z.c,Z.c,[]),e.Ab(4608,D.d,D.d,[]),e.Ab(5120,V.b,V.c,[C.c]),e.Ab(135680,V.d,V.d,[C.c,e.s,[2,d.h],[2,V.a],V.b,[3,V.d],C.e]),e.Ab(4608,q.h,q.h,[]),e.Ab(5120,q.a,q.b,[C.c]),e.Ab(5120,P.a,P.c,[C.c]),e.Ab(4608,D.c,D.y,[[2,D.h],$.a]),e.Ab(5120,z.a,z.b,[C.c]),e.Ab(5120,G.b,G.c,[C.c]),e.Ab(4608,Y.f,D.e,[[2,D.i],[2,D.n]]),e.Ab(5120,E.c,E.a,[[3,E.c]]),e.Ab(5120,N.b,N.a,[[3,N.b]]),e.Ab(5120,W.b,W.a,[[3,W.b]]),e.Ab(135680,X.h,X.h,[e.B,$.a]),e.Ab(4608,J.e,J.e,[e.O]),e.Ab(4608,Q.a,Q.a,[]),e.Ab(4608,U.a,U.a,[H.c,Q.a]),e.Ab(4608,ll.a,ll.a,[U.a,H.c]),e.Ab(1073742336,S.a,S.a,[]),e.Ab(1073742336,D.n,D.n,[[2,D.f],[2,Y.g]]),e.Ab(1073742336,$.b,$.b,[]),e.Ab(1073742336,D.x,D.x,[]),e.Ab(1073742336,d.c,d.c,[]),e.Ab(1073742336,D.v,D.v,[]),e.Ab(1073742336,D.s,D.s,[]),e.Ab(1073742336,nl.g,nl.g,[]),e.Ab(1073742336,ul.c,ul.c,[]),e.Ab(1073742336,C.g,C.g,[]),e.Ab(1073742336,B.c,B.c,[]),e.Ab(1073742336,Z.d,Z.d,[]),e.Ab(1073742336,X.a,X.a,[]),e.Ab(1073742336,el.a,el.a,[]),e.Ab(1073742336,tl.c,tl.c,[]),e.Ab(1073742336,al.c,al.c,[]),e.Ab(1073742336,ol.a,ol.a,[]),e.Ab(1073742336,il.a,il.a,[]),e.Ab(1073742336,rl.a,rl.a,[]),e.Ab(1073742336,sl.b,sl.b,[]),e.Ab(1073742336,V.g,V.g,[]),e.Ab(1073742336,q.i,q.i,[]),e.Ab(1073742336,bl.a,bl.a,[]),e.Ab(1073742336,cl.c,cl.c,[]),e.Ab(1073742336,dl.a,dl.a,[]),e.Ab(1073742336,D.o,D.o,[]),e.Ab(1073742336,pl.a,pl.a,[]),e.Ab(1073742336,fl.a,fl.a,[]),e.Ab(1073742336,gl.b,gl.b,[]),e.Ab(1073742336,hl.d,hl.d,[]),e.Ab(1073742336,Al.a,Al.a,[]),e.Ab(1073742336,ml.a,ml.a,[]),e.Ab(1073742336,P.b,P.b,[]),e.Ab(1073742336,D.z,D.z,[]),e.Ab(1073742336,D.p,D.p,[]),e.Ab(1073742336,z.d,z.d,[]),e.Ab(1073742336,G.e,G.e,[]),e.Ab(1073742336,E.d,E.d,[]),e.Ab(1073742336,vl.a,vl.a,[]),e.Ab(1073742336,yl.a,yl.a,[]),e.Ab(1073742336,kl.a,kl.a,[]),e.Ab(1073742336,xl.a,xl.a,[]),e.Ab(1073742336,wl.a,wl.a,[]),e.Ab(1073742336,Ol.a,Ol.a,[]),e.Ab(1073742336,jl.d,jl.d,[]),e.Ab(1073742336,N.c,N.c,[]),e.Ab(1073742336,Fl.e,Fl.e,[]),e.Ab(1073742336,W.c,W.c,[]),e.Ab(1073742336,Kl.p,Kl.p,[]),e.Ab(1073742336,Rl.m,Rl.m,[]),e.Ab(1073742336,Il.a,Il.a,[]),e.Ab(1073742336,_l.a,_l.a,[]),e.Ab(1073742336,J.c,J.c,[]),e.Ab(1073742336,Ml.a,Ml.a,[]),e.Ab(1073742336,v.n,v.n,[[2,v.t],[2,v.l]]),e.Ab(1073742336,Ll,Ll,[]),e.Ab(1073742336,f.b,f.b,[]),e.Ab(1073742336,t,t,[]),e.Ab(256,sl.a,{separatorKeyCodes:[Tl.f]},[]),e.Ab(256,D.g,D.k,[]),e.Ab(1024,v.j,function(){return[[{path:"",component:m}]]},[])])})}}]);